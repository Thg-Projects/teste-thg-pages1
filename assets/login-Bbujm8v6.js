import{l as c}from"./essencial-DjFnyu8i.js";import{b as a,c as n,g as s}from"./firebaseFuncoes-B1sqI8Vj.js";import{signInWithEmailAndPassword as d,createUserWithEmailAndPassword as i,sendPasswordResetEmail as m}from"https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js";import"https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";import"https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js";c.script("login modulos carregados");const u=document.querySelector("#btn-login");u.addEventListener("click",function(){const o=document.getElementById("login-email").value,t=document.getElementById("login-password").value;d(a,o,t).then(e=>{console.log("userCredential:",e),n("email",o);//!salvar no local
n("senha",t);//!salvar no local
n("user",e.user.uid),window.location.href="fitness.html"}).catch(e=>{console.error("Erro no login:",e),alert("Erro no login: "+e.message)})});const g=document.querySelector("#btn-cadastrar");g.addEventListener("click",function(){const o=document.getElementById("signup-email").value,t=document.getElementById("signup-password").value;i(a,o,t).then(e=>{console.log(`userCredential: ${e}`),n("email",o);//!salvar no local
n("senha",t);//!salvar no local
n("user",e.user.uid),alert("Cadastro realizado com sucesso!"),window.location.href="fitness.html"}).catch(e=>{console.error("Erro no cadastro:",e),alert("Erro no cadastro: "+e.message)})});const p=document.querySelector("#recuperarSenha");p.addEventListener("click",function(){const o=document.getElementById("login-email").value;if(!o){alert("Digite seu email para recuperação de senha.");return}m(a,o).then(()=>{alert("Email de recuperação enviado!")}).catch(t=>{console.error("Erro na recuperação de senha:",t),alert("Erro: "+t.message)})});const l=document.querySelector(".login-card"),r=document.querySelector(".cadastro-card"),y=document.querySelector("#mostrarLogin");y.addEventListener("click",function(){r.style.display="none",l.style.display="block"});const E=document.querySelector("#mostrarCadastro");E.addEventListener("click",function(){r.style.display="block",l.style.display="none"});document.addEventListener("DOMContentLoaded",()=>{r.style.display="none",document.getElementById("login-email").value=s("email"),document.getElementById("login-password").value=s("senha")});
